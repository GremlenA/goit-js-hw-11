{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox = new SimpleLightbox(\".gallery a\", {\n  captionsData: \"alt\",\n  captionDelay: 250,\n});\n\nexport function createGallery(images) {\n  const gallery = document.querySelector(\".gallery\");\n  if (!gallery) {\n    console.error(\"Gallery container not found!\");\n    return;\n  }\n\n  gallery.innerHTML = '';\n\n  const cards = images.map(img => `\n    <li class=\"gallery-item\">\n      <a href=\"${img.largeImageURL}\">\n        <img src=\"${img.webformatURL}\" alt=\"${img.tags}\">\n      </a>\n      <div class=\"info\">\n        <p>Likes: ${img.likes}</p>\n        <p>Views: ${img.views}</p>\n        <p>Comments: ${img.comments}</p>\n        <p>Downloads: ${img.downloads}</p>\n      </div>\n    </li>\n  `).join('');\n\n  gallery.innerHTML = cards;\n\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  const gallery = document.querySelector(\".gallery\");\n  if (gallery) {\n    gallery.innerHTML = '';\n  }\n}\n\nexport function showLoader() {\n  const loader = document.querySelector(\".loader\");\n  if (loader) {\n    loader.classList.add(\"visible\");\n  }\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector(\".loader\");\n  if (loader) {\n    loader.classList.remove(\"visible\");\n  }\n}\n","import axios from \"axios\";\n\nconst API_KEY = \"51834340-f9825b8542abb10365afbcb9e\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport async function getImagesByQuery(query) {\n  try {\n    const response = await axios.get(BASE_URL, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n      },\n    });\n\n    \n    return response.data.hits;\n\n  } catch (error) {\n    console.error(\"Pixabay API error:\", error);\n    throw error;\n  }\n}\n","import { createGallery, clearGallery, showLoader, hideLoader } from './js/render-functions.js';\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", async (e) => {\n  e.preventDefault();\n  const query = form.elements['search-text'].value.trim();\n\n  if (!query) {\n    iziToast.error({ title: \"Error\", message: \"Enter a search term!\" });\n    return;\n  }\n\n  clearGallery();     \n  showLoader();\n\n  try {\n    const images = await getImagesByQuery(query);\n\n    if (!images || images.length === 0) {\n      iziToast.show({\n        message: \"Sorry, there are no images matching your search query.<br>Please try again!\",\n        position: \"topRight\",\n        timeout: 4000,\n        close: true,\n        progressBar: false,\n        backgroundColor: \"#f44336\",   \n        messageColor: \"#fff\",\n        layout: 2,                   \n        maxWidth: 420,\n        class: \"custom-toast\",\n        icon: \"fa fa-times-circle\"    \n      });\n      return; \n    }\n\n    createGallery(images);\n\n  } catch (error) {\n    iziToast.error({ title: \"Error\", message: \"Failed to fetch images. Try later!\" });\n    console.error(\"API Error:\", error);\n  } finally {\n    hideLoader();\n  }\n});\n"],"names":["lightbox","SimpleLightbox","createGallery","images","gallery","cards","img","clearGallery","showLoader","loader","hideLoader","API_KEY","BASE_URL","getImagesByQuery","query","axios","error","form","iziToast"],"mappings":"owBAGA,IAAIA,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjD,GAAI,CAACA,EAAS,CACZ,QAAQ,MAAM,8BAA8B,EAC5C,MACD,CAEDA,EAAQ,UAAY,GAEpB,MAAMC,EAAQF,EAAO,IAAIG,GAAO;AAAA;AAAA,iBAEjBA,EAAI,aAAa;AAAA,oBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,oBAGlCA,EAAI,KAAK;AAAA,oBACTA,EAAI,KAAK;AAAA,uBACNA,EAAI,QAAQ;AAAA,wBACXA,EAAI,SAAS;AAAA;AAAA;AAAA,GAGlC,EAAE,KAAK,EAAE,EAEVF,EAAQ,UAAYC,EAEpBL,EAAS,QAAO,CAClB,CAEO,SAASO,GAAe,CAC7B,MAAMH,EAAU,SAAS,cAAc,UAAU,EAC7CA,IACFA,EAAQ,UAAY,GAExB,CAEO,SAASI,GAAa,CAC3B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,UAAU,IAAI,SAAS,CAElC,CAEO,SAASC,GAAa,CAC3B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,UAAU,OAAO,SAAS,CAErC,CCrDA,MAAME,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAiBC,EAAO,CAC5C,GAAI,CAYF,OAXiB,MAAMC,EAAM,IAAIH,EAAU,CACzC,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,GAGe,KAAK,IAEtB,OAAQE,EAAO,CACd,cAAQ,MAAM,qBAAsBA,CAAK,EACnCA,CACP,CACH,CCnBA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAU,MAAO,GAAM,CAC3C,EAAE,eAAc,EAChB,MAAMH,EAAQG,EAAK,SAAS,aAAa,EAAE,MAAM,OAEjD,GAAI,CAACH,EAAO,CACVI,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,sBAAsB,CAAE,EAClE,MACD,CAEDX,IACAC,IAEA,GAAI,CACF,MAAML,EAAS,MAAMU,EAAiBC,CAAK,EAE3C,GAAI,CAACX,GAAUA,EAAO,SAAW,EAAG,CAClCe,EAAS,KAAK,CACZ,QAAS,8EACT,SAAU,WACV,QAAS,IACT,MAAO,GACP,YAAa,GACb,gBAAiB,UACjB,aAAc,OACd,OAAQ,EACR,SAAU,IACV,MAAO,eACP,KAAM,oBACd,CAAO,EACD,MACD,CAEDhB,EAAcC,CAAM,CAErB,OAAQa,EAAO,CACdE,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,oCAAoC,CAAE,EAChF,QAAQ,MAAM,aAAcF,CAAK,CACrC,QAAY,CACRN,GACD,CACH,CAAC"}