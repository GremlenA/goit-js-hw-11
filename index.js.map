{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/js/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nlet lightbox = new SimpleLightbox(\".gallery a\", {\n  captionsData: \"alt\",\n  captionDelay: 250,\n});\n\nexport function createGallery(images) {\n  const gallery = document.querySelector(\".gallery\");\n  if (!gallery) {\n    console.error(\"Gallery container not found!\");\n    return;\n  }\n\n \n  gallery.innerHTML = '';\n\n\n  const cards = images.map(img => `\n    <li class=\"gallery-item\">\n      <a href=\"${img.largeImageURL}\">\n        <img src=\"${img.webformatURL}\" alt=\"${img.tags}\">\n      </a>\n      <div class=\"info\">\n        <p>Likes: ${img.likes}</p>\n        <p>Views: ${img.views}</p>\n        <p>Comments: ${img.comments}</p>\n        <p>Downloads: ${img.downloads}</p>\n      </div>\n    </li>\n  `).join('');\n\n  gallery.innerHTML = cards;\n\n\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  const gallery = document.querySelector(\".gallery\");\n  if (gallery) {\n    gallery.innerHTML = '';\n  }\n}\n","const API_KEY = \"51834340-f9825b8542abb10365afbcb9e\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport async function getImagesByQuery(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  const response = await fetch(url);\n\n  if (!response.ok) {\n    throw new Error(`Pixabay API error: ${response.status}`);\n  }\n\n  const data = await response.json();\n  return data;\n}\n","import { createGallery, clearGallery } from './render-functions.js';\nimport { getImagesByQuery } from './pixabay-api.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\");\n\n\nconst loader = document.createElement(\"p\");\nloader.classList.add(\"loader\");\nloader.textContent = \"Loading images, please wait...\";\nloader.style.display = \"none\";\nform.insertAdjacentElement(\"afterend\", loader);\n\nform.addEventListener(\"submit\", async (e) => {\n  e.preventDefault();\n  const query = form.elements['search-text'].value.trim();\n\n  if (!query) {\n    iziToast.error({ title: \"Error\", message: \"Enter a search term!\" });\n    return;\n  }\n\n  clearGallery();     \n  loader.style.display = \"block\";\n\n  try {\n    const images = await getImagesByQuery(query);\n\n    if (!images.hits || images.hits.length === 0) {\n      iziToast.error({\n        title: \"Error\",\n        message: \"Sorry, there are no images matching your search query. Please try again!\"\n      });\n      return; \n    }\n\n    createGallery(images.hits);\n\n  } catch (error) {\n    iziToast.error({ title: \"Error\", message: \"Failed to fetch images. Try later!\" });\n    console.error(\"API Error:\", error);\n  } finally {\n    loader.style.display = \"none\";  \n  }\n});\n"],"names":["lightbox","SimpleLightbox","createGallery","images","gallery","cards","img","clearGallery","API_KEY","BASE_URL","getImagesByQuery","query","url","response","form","loader","e","iziToast","error"],"mappings":"6vBAIA,IAAIA,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjD,GAAI,CAACA,EAAS,CACZ,QAAQ,MAAM,8BAA8B,EAC5C,MACD,CAGDA,EAAQ,UAAY,GAGpB,MAAMC,EAAQF,EAAO,IAAIG,GAAO;AAAA;AAAA,iBAEjBA,EAAI,aAAa;AAAA,oBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,oBAGlCA,EAAI,KAAK;AAAA,oBACTA,EAAI,KAAK;AAAA,uBACNA,EAAI,QAAQ;AAAA,wBACXA,EAAI,SAAS;AAAA;AAAA;AAAA,GAGlC,EAAE,KAAK,EAAE,EAEVF,EAAQ,UAAYC,EAGpBL,EAAS,QAAO,CAClB,CAEO,SAASO,GAAe,CAC7B,MAAMH,EAAU,SAAS,cAAc,UAAU,EAC7CA,IACFA,EAAQ,UAAY,GAExB,CC7CA,MAAMI,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAiBC,EAAO,CAC5C,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,2DAE/DE,EAAW,MAAM,MAAMD,CAAG,EAEhC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,sBAAsBA,EAAS,MAAM,EAAE,EAIzD,OADa,MAAMA,EAAS,MAE9B,CCTA,MAAMC,EAAO,SAAS,cAAc,OAAO,EAGrCC,EAAS,SAAS,cAAc,GAAG,EACzCA,EAAO,UAAU,IAAI,QAAQ,EAC7BA,EAAO,YAAc,iCACrBA,EAAO,MAAM,QAAU,OACvBD,EAAK,sBAAsB,WAAYC,CAAM,EAE7CD,EAAK,iBAAiB,SAAU,MAAOE,GAAM,CAC3CA,EAAE,eAAc,EAChB,MAAML,EAAQG,EAAK,SAAS,aAAa,EAAE,MAAM,OAEjD,GAAI,CAACH,EAAO,CACVM,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,sBAAsB,CAAE,EAClE,MACD,CAEDV,IACAQ,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAMZ,EAAS,MAAMO,EAAiBC,CAAK,EAE3C,GAAI,CAACR,EAAO,MAAQA,EAAO,KAAK,SAAW,EAAG,CAC5Cc,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACjB,CAAO,EACD,MACD,CAEDf,EAAcC,EAAO,IAAI,CAE1B,OAAQe,EAAO,CACdD,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,oCAAoC,CAAE,EAChF,QAAQ,MAAM,aAAcC,CAAK,CACrC,QAAY,CACRH,EAAO,MAAM,QAAU,MACxB,CACH,CAAC"}